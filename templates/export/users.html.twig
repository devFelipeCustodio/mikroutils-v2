{% extends 'base.html.twig' %}
{% block title %}Exportar usuários :: Mikroutils
{% endblock %}
{% block stylesheets %}<link rel="stylesheet" href="{{ asset("assets/hosts.css") }}"></link>{% endblock %}{% block javascripts %}
<script defer src="{{ asset('assets/gatewayChoiceForm.js') }}"></script>{% endblock %}{% block body %}
<div class="mb-5 border-bottom">
	<h1>Exportar usuários</h1>
	<p class="mb-3">Uma lista de usuários no formato CSV será gerada contendo o gateway, nome de usuário, MAC e IP.</p>
</div>
{% include 'gatewayError.html.twig' %}
{{ form_start(form, {"attr": {"class": "container gateway_choice_form" }}) }}
{{ form_errors(form) }}
{{ form_widget(form.hosts, {"attr": {"class": "mb-3" }}) }}
<div class="mb-3 d-flex gap-2">
<button class="btn btn-primary gap-1 d-inline-flex align-items-center justify-content-center" type="submit">
	<svg xmlns="http://www.w3.org/2000/svg" height="18px" viewbox="0 -960 960 960" width="18px" fill="currentColor"><path d="M280-600v-80h560v80H280Zm0 160v-80h560v80H280Zm0 160v-80h560v80H280ZM160-600q-17 0-28.5-11.5T120-640q0-17 11.5-28.5T160-680q17 0 28.5 11.5T200-640q0 17-11.5 28.5T160-600Zm0 160q-17 0-28.5-11.5T120-480q0-17 11.5-28.5T160-520q17 0 28.5 11.5T200-480q0 17-11.5 28.5T160-440Zm0 160q-17 0-28.5-11.5T120-320q0-17 11.5-28.5T160-360q17 0 28.5 11.5T200-320q0 17-11.5 28.5T160-280Z"/></svg>Gerar lista</button>

{% if app.session.get("ppp_user_list") %}
	<a class="btn btn-primary btn gap-1 d-inline-flex align-items-center justify-content-center" href="/export/ppp_users/download">
		<svg xmlns="http://www.w3.org/2000/svg" height="18px" viewbox="0 -960 960 960" width="18px" fill="currentColor"><path d="M480-320 280-520l56-58 104 104v-326h80v326l104-104 56 58-200 200ZM240-160q-33 0-56.5-23.5T160-240v-120h80v120h480v-120h80v120q0 33-23.5 56.5T720-160H240Z"/></svg>Baixar lista</a>
{% endif %}
</div>

{{ form_end(form) }}{% endblock %}
